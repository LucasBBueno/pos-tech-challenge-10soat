{"swagger":"2.0","info":{"description":"API em Go para o desafio na pos-tech fiap de Software Architecture.","title":"POS-Tech API","termsOfService":"http://swagger.io/terms/","contact":{"name":"API Support","url":"http://www.swagger.io/support","email":"support@swagger.io"},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"},"version":"1.0"},"host":"localhost:8080","basePath":"/v1","paths":{"/clients":{"post":{"description":"Registra um novo cliente com nome e e-mail","consumes":["application/json"],"produces":["application/json"],"tags":["Clients"],"summary":"Registra um novo cliente","parameters":[{"description":"Registrar novo cliente request","name":"createClientRequest","in":"body","required":true,"schema":{"$ref":"#/definitions/handler.createClientRequest"}}],"responses":{"200":{"description":"Cliente registrado","schema":{"$ref":"#/definitions/handler.clientResponse"}},"400":{"description":"Erro de validação","schema":{"$ref":"#/definitions/handler.errorResponse"}}}}},"/clients/{cpf}":{"get":{"description":"buscar um cliente pelo Cpf","consumes":["application/json"],"produces":["application/json"],"tags":["Clients"],"summary":"Busca um cliente","parameters":[{"type":"string","description":"CPF","name":"cpf","in":"path","required":true}],"responses":{"200":{"description":"Cliente","schema":{"$ref":"#/definitions/handler.clientResponse"}},"400":{"description":"Erro de validação","schema":{"$ref":"#/definitions/handler.errorResponse"}},"404":{"description":"Cliente nao encontrado","schema":{"$ref":"#/definitions/handler.errorResponse"}}}}},"/orders":{"get":{"description":"Lista os pedidos separados por status com limite de consulta","consumes":["application/json"],"produces":["application/json"],"tags":["Orders"],"summary":"Lista os pedidos","parameters":[{"type":"integer","description":"Limite de pedidos","name":"limit","in":"query"}],"responses":{"200":{"description":"Pedidos listados","schema":{"$ref":"#/definitions/handler.listOrdersResponse"}},"400":{"description":"Erro de validação","schema":{"$ref":"#/definitions/handler.errorResponse"}},"500":{"description":"Erro interno","schema":{"$ref":"#/definitions/handler.errorResponse"}}}},"post":{"security":[{"BearerAuth":[]}],"description":"Cria um novo pedido processando o pagamento","consumes":["application/json"],"produces":["application/json"],"tags":["Orders"],"summary":"Criar um novo pedido","parameters":[{"description":"Criar ordem body","name":"createOrderRequest","in":"body","required":true,"schema":{"$ref":"#/definitions/handler.createOrderRequest"}}],"responses":{"200":{"description":"Ordem criada","schema":{"$ref":"#/definitions/handler.orderResponse"}},"400":{"description":"Erro de validação","schema":{"$ref":"#/definitions/handler.errorResponse"}},"500":{"description":"Erro interno","schema":{"$ref":"#/definitions/handler.errorResponse"}}}}},"/products":{"get":{"description":"Lista os produtos podendo buscar por categoria","consumes":["application/json"],"produces":["application/json"],"tags":["Products"],"summary":"Lista os produtos","parameters":[{"type":"string","description":"Id da categoria","name":"category_id","in":"query"}],"responses":{"200":{"description":"Produtos listados","schema":{"type":"array","items":{"$ref":"#/definitions/handler.productResponse"}}},"400":{"description":"Erro de validação","schema":{"$ref":"#/definitions/handler.errorResponse"}},"500":{"description":"Erro interno","schema":{"$ref":"#/definitions/handler.errorResponse"}}}},"post":{"description":"registra um novo produto","consumes":["application/json"],"produces":["application/json"],"tags":["Products"],"summary":"Registra um novo produto","parameters":[{"description":"Registrar novo produto body","name":"createProductRequest","in":"body","required":true,"schema":{"$ref":"#/definitions/handler.createProductRequest"}}],"responses":{"200":{"description":"Produto registrado","schema":{"$ref":"#/definitions/handler.productResponse"}},"400":{"description":"Erro de validação","schema":{"$ref":"#/definitions/handler.errorResponse"}}}}},"/products/{id}":{"put":{"description":"Atualiza um produto","consumes":["application/json"],"produces":["application/json"],"tags":["Products"],"summary":"Atualiza um produto","parameters":[{"type":"string","description":"Id do produto","name":"id","in":"path","required":true},{"description":"Atualizar produto body","name":"updateProductRequest","in":"body","required":true,"schema":{"$ref":"#/definitions/handler.updateProductRequest"}}],"responses":{"200":{"description":"Produto atualizado","schema":{"$ref":"#/definitions/handler.productResponse"}},"400":{"description":"Erro de validação","schema":{"$ref":"#/definitions/handler.errorResponse"}},"404":{"description":"Produto nao encontrado","schema":{"$ref":"#/definitions/handler.errorResponse"}}}},"delete":{"description":"Remove um produto por meio de seu identificador","consumes":["application/json"],"produces":["application/json"],"tags":["Products"],"summary":"Remove um produto","parameters":[{"type":"string","description":"Id do produto","name":"id","in":"path","required":true}],"responses":{"200":{"description":"Produto removido","schema":{"$ref":"#/definitions/handler.productResponse"}},"400":{"description":"Erro de validação","schema":{"$ref":"#/definitions/handler.errorResponse"}},"404":{"description":"Produto nao encontrado","schema":{"$ref":"#/definitions/handler.errorResponse"}}}}}},"definitions":{"domain.OrderStatus":{"type":"string","enum":["received","preparing","ready","completed"],"x-enum-varnames":["OrderStatusReceived","OrderStatusPreparing","OrderStatusReady","OrderStatusCompleted"]},"handler.categoryResponse":{"type":"object","properties":{"id":{"type":"string","example":"ed6ac028-8016-4cbd-aeee-c3a155cdb2a4"},"name":{"type":"string","example":"Lanche"}}},"handler.clientResponse":{"type":"object","properties":{"email":{"type":"string","example":"john-doe@email.com"},"id":{"type":"string","example":"ed6ac028-8016-4cbd-aeee-c3a155cdb2a4"},"name":{"type":"string","example":"John Doe"}}},"handler.createClientRequest":{"type":"object","required":["email","name"],"properties":{"email":{"type":"string","example":"john-doe@email.com"},"name":{"type":"string","example":"John Doe"}}},"handler.createOrderRequest":{"type":"object","required":["products"],"properties":{"client_id":{"type":"string","example":"ed6ac028-8016-4cbd-aeee-c3a155cdb2a4"},"products":{"type":"array","items":{"$ref":"#/definitions/handler.orderProductRequest"}}}},"handler.createProductRequest":{"type":"object","required":["name","value"],"properties":{"category_id":{"type":"string","minLength":1,"example":"ed6ac028-8016-4cbd-aeee-c3a155cdb2a4"},"description":{"type":"string","example":"Lanche com batata"},"image":{"type":"string","example":"https://"},"name":{"type":"string","example":"Lanche"},"value":{"type":"number","example":10.9}}},"handler.errorResponse":{"type":"object","properties":{"messages":{"type":"array","items":{"type":"string"},"example":["Error message 1"," Error message 2"]},"success":{"type":"boolean","example":false}}},"handler.listOrdersResponse":{"type":"object","properties":{"completed_orders":{"type":"array","items":{"$ref":"#/definitions/handler.orderResponse"}},"preparing_orders":{"type":"array","items":{"$ref":"#/definitions/handler.orderResponse"}},"ready_orders":{"type":"array","items":{"$ref":"#/definitions/handler.orderResponse"}},"received_orders":{"type":"array","items":{"$ref":"#/definitions/handler.orderResponse"}}}},"handler.orderProductRequest":{"type":"object","required":["product_id","quantity"],"properties":{"observation":{"type":"string","example":"Lanche com batata"},"product_id":{"type":"string","minLength":1,"example":"ed6ac028-8016-4cbd-aeee-c3a155cdb2a4"},"quantity":{"type":"integer","example":1}}},"handler.orderResponse":{"type":"object","properties":{"client_id":{"type":"string","example":"ed6ac028-8016-4cbd-aeee-c3a155cdb2a4"},"created_at":{"type":"string","example":"1970-01-01T00:00:00Z"},"id":{"type":"string","example":"ed6ac028-8016-4cbd-aeee-c3a155cdb2a4"},"number":{"type":"integer","example":123},"status":{"allOf":[{"$ref":"#/definitions/domain.OrderStatus"}],"example":"received"},"total":{"type":"number","example":100.9},"updated_at":{"type":"string","example":"1970-01-01T00:00:00Z"}}},"handler.productResponse":{"type":"object","properties":{"category":{"$ref":"#/definitions/handler.categoryResponse"},"created_at":{"type":"string","example":"1970-01-01T00:00:00Z"},"description":{"type":"string","example":"Lanche com bacon"},"id":{"type":"string","example":"ed6ac028-8016-4cbd-aeee-c3a155cdb2a4"},"image":{"type":"string","example":"https://"},"name":{"type":"string","example":"Lanche 1"},"updated_at":{"type":"string","example":"1970-01-01T00:00:00Z"},"value":{"type":"number","example":10.9}}},"handler.updateProductRequest":{"type":"object","required":["name","value"],"properties":{"category_id":{"type":"string","minLength":1,"example":"ed6ac028-8016-4cbd-aeee-c3a155cdb2a4"},"description":{"type":"string","example":"Lanche com batata"},"image":{"type":"string","example":"https://"},"name":{"type":"string","example":"Lanche"},"value":{"type":"number","example":10.9}}}},"securityDefinitions":{"BasicAuth":{"type":"basic"}},"externalDocs":{"description":"OpenAPI","url":"https://swagger.io/resources/open-api/"}}